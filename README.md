# Leshiy Media Converter

ะฃะฝะธะฒะตััะฐะปัะฝัะน ะผะตะดะธะฐ-ะบะพะฝะฒะตััะตั, ัะฐะทะผะตััะฝะฝัะน ะฝะฐ [Render](https://render.com).  
ะัะตะพะฑัะฐะทัะตั ะฐัะดะธะพ, ะฒะธะดะตะพ ะธ ะธะทะพะฑัะฐะถะตะฝะธั ะฒ ัะพัะผะฐัั, ัะดะพะฑะฝัะต ะดะปั TTS, Whisper, ะฐะฒะฐัะฐัะพะฒ ะธ Telegram-ะฑะพัะพะฒ.

๐ **ะะฐะฑะพัะฐะตั ะฝะฐ ะฑะตัะฟะปะฐัะฝะพะผ ัะฐัะธัะต Render**  
๐ **ะะพะดะดะตัะถะธะฒะฐะตั OGG, PCM, MP4, JPG/PNG**  
โก **ะััััะพ, ะฑะตะท GPU, ะฝะฐ ะฑะฐะทะต FFmpeg**

---

## ๐ [URL ัะตัะฒะธัะฐ](https://leshiy-media-converter.onrender.com)

---

## ๐ฅ ะญะฝะดะฟะพะธะฝัั

# 1. ะัะพะฒะตัะบะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ
GET /
Leshiy Media Converter is ready!

# 2. ะะตััะธั FFmpeg
GET /debug
โ ะะพะทะฒัะฐัะฐะตั ะฟะพะปะฝัั ะธะฝัะพัะผะฐัะธั ะพ FFmpeg (ะฒะบะปััะฐั --enable-libopus).

# 3. ะะพะปะพัะพะฒัะต โ MP3
POST /ogg2mp3
Content-Type: multipart/form-data
ะะพะปะต: audio (ัะฐะนะป)
ะคะพัะผะฐั ะฒัะพะดะฐ: audio/ogg (OPUS, ะบะฐะบ ะธะท Telegram)
ะััะพะด: audio/mpeg (MP3, 22050 ะั, ะผะพะฝะพ, 64 ะบะฑะธั/ั)
โ ะัะฟะพะปัะทัะตััั ะดะปั ะพะฑัะฐะฑะพัะบะธ ะณะพะปะพัะพะฒัั ัะพะพะฑัะตะฝะธะน Telegram.

# 4. ะกััะพะน PCM โ MP3
POST /pcm2mp3?sampleRate=24000&channels=1&format=s16le
Content-Type: application/octet-stream
ะขะตะปะพ ะทะฐะฟัะพัะฐ: ััััะต ะฐัะดะธะพะฑะฐะนัั (ะฝะฐะฟัะธะผะตั, ะพั Gemini/ElevenLabs TTS)
ะะฐัะฐะผะตััั (ะพะฟัะธะพะฝะฐะปัะฝะพ):
sampleRate: 8000, 16000, 22050, 24000, 44100, 48000 (ะฟะพ ัะผะพะปัะฐะฝะธั: 24000)
channels: 1 ะธะปะธ 2 (ะฟะพ ัะผะพะปัะฐะฝะธั: 1)
format: s16le, s16be, f32le (ะฟะพ ัะผะพะปัะฐะฝะธั: s16le)
ะััะพะด: audio/mpeg (MP3)

# 5. ะะธะดะตะพ โ MP3 (ะธะทะฒะปะตัะตะฝะธะต ะฐัะดะธะพ)
POST /video2mp3
Content-Type: multipart/form-data
ะะพะปะต: video (ัะฐะนะป, ะฝะฐะฟัะธะผะตั, video/mp4)
ะััะพะด: audio/mpeg (MP3, 22050 ะั, 128 ะบะฑะธั/ั)
ะัะพะฒะตัะบะฐ: ะตัะปะธ ะฐัะดะธะพะดะพัะพะถะบะฐ ะพััััััะฒัะตั โ ะพัะธะฑะบะฐ

# 6. ะะพะฒะพัะพั ะธะทะพะฑัะฐะถะตะฝะธั
POST /rotate-image?angle=90
Content-Type: multipart/form-data
ะะพะปะต: image (ัะฐะนะป: JPG, PNG ะธ ะดั.)
ะะฐัะฐะผะตััั:
angle: 90, -90, 180
ะััะพะด: ะฟะพะฒะตัะฝััะพะต ะธะทะพะฑัะฐะถะตะฝะธะต ะฒ ะธััะพะดะฝะพะผ ัะพัะผะฐัะต
๐ก ะัะฟะพะปัะทัะตััั ะฒ Telegram-ะฑะพัะฐั ะดะปั ะธะฝัะตัะฐะบัะธะฒะฝะพะณะพ ะฟะพะฒะพัะพัะฐ ัะพัะพ.

# 7. ะะพะฒะพัะพั ะฒะธะดะตะพ
POST /rotate-video?angle=90
Content-Type: multipart/form-data
ะะพะปะต: video (ัะฐะนะป: MP4 ะธ ะดั.)
ะะฐัะฐะผะตััั:
angle: 90, -90, 180
ะััะพะด: video/mp4 (ะฐัะดะธะพ ะบะพะฟะธััะตััั ะฑะตะท ะฟะตัะตะบะพะดะธัะพะฒะบะธ)
โ๏ธ ะะตะบะพะผะตะฝะดัะตััั ะดะปั ะฒะธะดะตะพ ะดะพ 1โ2 ะผะธะฝัั (ะพะณัะฐะฝะธัะตะฝะธะต Render Free Tier).

# 8. ะกัะพะฟ-ะบะฐะดั ะธะท ะฒะธะดะตะพ (ะฒะธะดะตะพ โ ะธะทะพะฑัะฐะถะตะฝะธะต)
POST /video2image?timestamp=00:00:05&format=jpg
Content-Type: multipart/form-data
ะะพะปะต: video (ัะฐะนะป: MP4, MOV ะธ ะดั.)
ะะฐัะฐะผะตััั:
timestamp โ ะผะพะผะตะฝั ะฒัะตะผะตะฝะธ ะฒ ัะพัะผะฐัะต HH:MM:SS.mmm (ะฟะพ ัะผะพะปัะฐะฝะธั: 00:00:01.000)
format โ jpg ะธะปะธ png (ะฟะพ ัะผะพะปัะฐะฝะธั: jpg)
ะััะพะด: JSON-ะพะฑัะตะบั ั ะฟะพะปัะผะธ:
image: ัััะพะบะฐ ะฒะธะดะฐ image/jpeg;base64,...
width: ัะธัะธะฝะฐ ะธะทะพะฑัะฐะถะตะฝะธั ะฒ ะฟะธะบัะตะปัั (ัะธัะปะพ)
height: ะฒััะพัะฐ ะธะทะพะฑัะฐะถะตะฝะธั ะฒ ะฟะธะบัะตะปัั (ัะธัะปะพ)
format: ัะพัะผะฐั (jpg / png)
success: true
ะัะฟะพะปัะทะพะฒะฐะฝะธะต: ะณะตะฝะตัะฐัะธั ะฟัะตะฒัั, ะฐะฝะฐะปะธะท ะบะฐะดัะพะฒ, ะฟะพะดะณะพัะพะฒะบะฐ ะบ Image-to-Image (I2I)
๐ก ะะพะดะดะตัะถะธะฒะฐะตั ะปัะฑัะต ัะพัะผะฐัั ะฒะธะดะตะพ, ะฟะพะฝััะฝัะต FFmpeg.
โ๏ธ ะะตะบะพะผะตะฝะดัะตััั ะดะปั ะฒะธะดะตะพ ะดะพ 2 ะผะธะฝัั (ะพะณัะฐะฝะธัะตะฝะธะต Render Free Tier).

# 9. ะกะพะทะดะฐะฝะธะต GIF ะธะปะธ ะฒะธะดะตะพ-ััะธะบะตัะฐ ะธะท ะฒะธะดะตะพ
POST /video2gif?start=2&end=5&format=gif&width=320
Content-Type: multipart/form-data
ะะพะปะต: video (ัะฐะนะป: MP4 ะธ ะดั.)
ะะฐัะฐะผะตััั:
start โ ะฝะฐัะฐะปะพ ััะฐะณะผะตะฝัะฐ (ะฒ ัะตะบัะฝะดะฐั, ะฝะฐะฟัะธะผะตั 2)
end โ ะบะพะฝะตั ััะฐะณะผะตะฝัะฐ (ะฒ ัะตะบัะฝะดะฐั, ะฝะฐะฟัะธะผะตั 5)
format โ gif ะธะปะธ mp4 (ะดะปั ะฒะธะดะตะพ-ััะธะบะตัะพะฒ ะฒ Telegram)
width โ ัะธัะธะฝะฐ (ะฟะพ ัะผะพะปัะฐะฝะธั: 480)
fps โ ะบะฐะดัะพะฒ ะฒ ัะตะบัะฝะดั (ะฟะพ ัะผะพะปัะฐะฝะธั: 10)
ะััะพะด:
image/gif โ ะตัะปะธ format=gif
video/mp4 โ ะตัะปะธ format=mp4 (ะฑะตะท ะทะฒัะบะฐ, ะพะฟัะธะผะธะทะธัะพะฒะฐะฝะพ ะฟะพะด Telegram)
๐ก ะะดะตะฐะปัะฝะพ ะดะปั ัะพะทะดะฐะฝะธั ะฐะฝะธะผะฐัะธะน, ะผะตะผะพะฒ ะธ ััะธะบะตัะพะฒ.
โ๏ธ ะะปะธัะตะปัะฝะพััั ััะฐะณะผะตะฝัะฐ โค 5 ัะตะบ (ะพะณัะฐะฝะธัะตะฝะธะต Render Free Tier).

# 10. ะัะตะพะฑัะฐะทะพะฒะฐะฝะธะต GIF โ MP4 (ะฒะธะดะตะพ ะฑะตะท ะทะฒัะบะฐ)
POST /gif2video
Content-Type: multipart/form-data
ะะพะปะต: gif (ะฐะฝะธะผะธัะพะฒะฐะฝะฝัะน GIF)
ะััะพะด: video/mp4 (ะพะฟัะธะผะธะทะธัะพะฒะฐะฝะฝะพะต ะฟะพะด Telegram, H.264, YUV420p)
ะัะฟะพะปัะทะพะฒะฐะฝะธะต: ัะผะตะฝััะตะฝะธะต ัะฐะทะผะตัะฐ, ัะพะฒะผะตััะธะผะพััั ั AI-ะฒะธะดะตะพ-ัะตัะฒะธัะฐะผะธ
๐ก ะะฒัะพะผะฐัะธัะตัะบะธ ะบะพััะตะบัะธััะตั ัะฐะทัะตัะตะฝะธะต ะดะพ ัััะฝัั ะทะฝะฐัะตะฝะธะน (ััะตะฑะพะฒะฐะฝะธะต H.264).

# 11. ะะทะผะตะฝะตะฝะธะต ัะฐะทัะตัะตะฝะธั ะฒะธะดะตะพ
POST /resize-video?resolution=720p
Content-Type: multipart/form-data
ะะพะปะต: video (ัะฐะนะป: MP4 ะธ ะดั.)
ะะฐัะฐะผะตััั:
resolution โ 240p, 360p, 480p, 580p, 720p, 1080p (ะฟะพ ัะผะพะปัะฐะฝะธั: 480p)
ะััะพะด: video/mp4 ะฒ ัะบะฐะทะฐะฝะฝะพะผ ัะฐะทัะตัะตะฝะธะธ (ะฟัะพะฟะพััะธะธ ัะพััะฐะฝะตะฝั, ะฐัะดะธะพ ะบะพะฟะธััะตััั ะฑะตะท ะฟะตัะตะบะพะดะธัะพะฒะบะธ)
๐ก ะะดะตะฐะปัะฝะพ ะดะปั ะฟะพะดะณะพัะพะฒะบะธ ะฒะธะดะตะพ ะฟะพะด Telegram, AI-ะณะตะฝะตัะฐัะธั ะธะปะธ ัะบะพะฝะพะผะธะธ ััะฐัะธะบะฐ.
โ๏ธ ะะตะบะพะผะตะฝะดัะตััั ะดะปั ะฒะธะดะตะพ ะดะพ 2 ะผะธะฝัั (ะพะณัะฐะฝะธัะตะฝะธะต Render Free Tier).

## ๐ ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ
ะกัะตะดะฐ: node:18 (Ubuntu, ัะตัะตะท Docker)
FFmpeg: 5.1.8 ะธะท ะพัะธัะธะฐะปัะฝะพะณะพ ัะตะฟะพะทะธัะพัะธั Debian (apt install ffmpeg)
ะะพัั: ะฐะฒัะพะผะฐัะธัะตัะบะธ process.env.PORT (Render ะธัะฟะพะปัะทัะตั 10000 ะฟะพ ัะผะพะปัะฐะฝะธั)
ะัะตะผะตะฝะฝัะต ัะฐะนะปั: ััะฐะฝัััั ะฒ /tmp, ัะดะฐะปััััั ะฟะพัะปะต ะพะฑัะฐะฑะพัะบะธ
ะะตะทะพะฟะฐัะฝะพััั: ะธะผะตะฝะฐ ัะฐะนะปะพะฒ ะณะตะฝะตัะธัััััั ัะปััะฐะนะฝะพ, ะฝะตั path traversal
โ๏ธ ะะณัะฐะฝะธัะตะฝะธั (Render Free Tier)

# ะะตัััั  ะะธะผะธั
RAM    512 ะะ
CPU    0.1โ0.25 vCPU
ะขะฐะนะผะฐัั ะทะฐะฟัะพัะฐ  ~50 ัะตะบัะฝะด
ะะฐะทะผะตั ัะฐะนะปะฐ    ัะตะบะพะผะตะฝะดัะตััั โค 50 ะะ

## ะัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธั (curl)
# ะะพะฒะพัะพั ะธะทะพะฑัะฐะถะตะฝะธั:
bash
> curl -X POST "https://leshiy-mp3-converter.onrender.com/rotate-image?angle=90" \
>  -F "image=@photo.jpg" \
>  -o rotated.jpg

# PCM โ MP3:
bash
> curl -X POST "https://leshiy-mp3-converter.onrender.com/pcm2mp3?sampleRate=24000" \
>  -H "Content-Type: application/octet-stream" \
>  --data-binary @speech.pcm \
>  -o output.mp3
  
## ๐ฆ ะะฐะฒะธัะธะผะพััะธ
express
multer
ffmpeg (ัััะฐะฝะพะฒะปะตะฝ ะฒ Dockerfile)

## ๐ ะะธัะตะฝะทะธั
MIT ยฉ Leshiy (ะะณะพัะตะปััะตะฒ ะะปะตะบัะฐะฝะดั ะะฐะปะตััะตะฒะธั)
